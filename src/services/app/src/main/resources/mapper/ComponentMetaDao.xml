<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.maple.app.dao.ComponentMetaDao">
    <resultMap type="com.maple.app.entity.ComponentMeta" id="ComponentMetaResult">
        <result property="id" column="id"/>
        <result property="name" column="name"/>
        <result property="icon" column="icon" />
        <result property="description" column="description" />
        <result property="tag" column="tag" />
        <result property="slots" column="slots" />
        <result property="createdUserId" column="created_user_id"/>
        <result property="latestUpdatedUserId" column="latest_updated_user_id"/>
        <result property="created_time" column="created_time" />
        <result property="latest_updated_time" column="latest_updated_time" />
    </resultMap>

    <select id="getAllComponentMetas" resultMap="ComponentMetaResult">
        SELECT * FROM component_meta
        ORDER BY latest_updated_time DESC
    </select>

    <select id="getComponentMetaById" parameterType="java.lang.String" resultMap="ComponentMetaResult">
        SELECT * FROM component_meta WHERE id=#{id}
    </select>

    <insert id="addComponentMeta" parameterType="com.maple.app.entity.ComponentMeta">
        INSERT INTO component_meta(id,name,icon,description,tag,slots,created_time,latest_updated_time)
        VALUES(#{id},#{name},#{icon},#{description},#{tag},#{slots},#{createdTime},#{latestUpdatedTime})
    </insert>

    <update id="updateComponentMeta" parameterType="com.maple.app.entity.ComponentMeta">
        UPDATE component_meta
        SET
        name=#{name},icon=#{icon},description=#{description},tag=#{tag},slots=#{slots},latest_updated_time=#{latestUpdatedTime}
        WHERE id=#{id}
    </update>

    <delete id="deleteComponentMetaById" parameterType="java.lang.String">
        DELETE FROM component_meta WHERE id=#{id}
    </delete>
    <delete id="deleteComponentMetaByIds" parameterType="java.lang.String">
        DELETE FROM component_meta WHERE id in (#{ids})
    </delete>
</mapper>